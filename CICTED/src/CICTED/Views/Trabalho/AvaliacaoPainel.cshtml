@model CICTED.Domain.ViewModels.Trabalho.AvaliacaoTrabalhoViewModel

@{
    Layout = "_Menu";
}
<title>Avaliação Painel - CICTED</title>


<form class="form-cadAvaliacao">
    <h3 style="text-align:center"><span class="fa fa-fw fa-clipboard"></span><b> Avaliação Painel</b></h3>
    <div class="form-group">
        <div class="form-group">
            <div class="form-group float-left">
                <b>Evento:</b>
                <select class="form-control" name="EventoId" style="max-width:125px" value="@Model.EventoId" id="evento">
                    <option disabled selected>Selecione</option>
                    @foreach (var evento in Model.Eventos)
            {
                        <option value="@evento.Id"> @evento.Sigla</option>

                    }
                </select>
            </div>
            <div class="form-group float-left margin-left-20">
                <b>Identificador Trabalho:</b>
                <input style="max-width:150px" id="identificador" class="form-control" type="text" name="IdentificadorTrabalho" value="@Model.IdentificadorTrabalho" />
            </div>
            <div class="form-group float-right ">
                <div class="form-group float-left">
                    <b>Nota:</b>
                    <input class="form-control" id="nota" style="width:65px" type="text" name="Nota" value="@Model.Nota" />
                </div>
                <div id="emoji" class="form-group float-right margin-left-30">
                    <span class="fa fa-meh-o fa-5x"></span>

                </div>
            </div>
        </div>
        <div class="form-group " style="margin-top:-50px">
            <b>Avaliador:</b>
            <input class="form-control fa-search input-busca-avaliador" type="text" name="SubArea" value="@Model.SubArea" />
        </div>
        <div class="form-group ">
            <b>SubArea:</b>
            <input class="form-control" style="width:280px!important" type="text" name="SubArea" value="@Model.SubArea" readonly />
        </div>
        <div class="form-group">
            <b>Titulo Trabalho:</b>
            <input class="form-control" style="max-width:100%!important" type="text" name="TituloTrabalho" value="@Model.TituloTrabalho" readonly />
        </div>
    </div>
    <div class="form-group float-right">
        <button class="btn btn-primary">Avaliar</button>
    </div>
</form>


<script>
    $("#evento").on("change", function () {
        var evento = $(this);
        var id = $(this).val();

        $.ajax({
            url: '/evento/descricao',
            type: 'get',
            data: {
                id: id
            },

            success: function (data) {
                $('#identificador').val(data.sigla + "2017");

            },

            error: function (x, y, message) {
                alert("Evento nao encontrado ")
            },
        });
    });

    $("#nota").keyup(function () {
        var nota = $(this);
        var id = parseFloat($(this).val()).toFixed(2);
        if (id > 10.00) {
            alert("Nota invalida");
        }
        else if (id >= 6.00) {
            $("#emoji").html('<span class="fa fa-smile-o fa-5x" style="color:green"></span>');
        }
        else {
            $("#emoji").html('<span class="fa fa-frown-o fa-5x" style="color:red"></span>');
        }


    });

    $("#nota").mask("99.99");
</script>